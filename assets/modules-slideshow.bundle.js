import{S as Splide}from"./shared-import-splide.esm.bundle.js";
/*!
 * @splidejs/splide-extension-auto-scroll
 * Version  : 0.5.3
 * License  : MIT
 * Copyright: 2022 Naotoshi Fujita
 */function empty(e){e.length=0}function slice$1(e,t,n){return Array.prototype.slice.call(e,t,n)}function apply$1(e){return e.bind.apply(e,[null].concat(slice$1(arguments,1)))}function raf(e){return requestAnimationFrame(e)}function typeOf$1(e,t){return typeof t===e}var isArray$1=Array.isArray;function toArray$1(e){return isArray$1(e)?e:[e]}function forEach$1(e,t){toArray$1(e).forEach(t)}apply$1(typeOf$1,"function"),apply$1(typeOf$1,"string"),apply$1(typeOf$1,"undefined");var ownKeys$1=Object.keys;function forOwn$1(e,t,n){if(e){var o=ownKeys$1(e);o=n?o.reverse():o;for(var i=0;i<o.length;i++){var r=o[i];if("__proto__"!==r&&!1===t(e[r],r))break}}return e}function assign$1(e){return slice$1(arguments,1).forEach((function(t){forOwn$1(t,(function(n,o){e[o]=t[o]}))})),e}var min$1=Math.min;function EventBinder(){var e=[];function t(e,t,n){forEach$1(e,(function(e){e&&forEach$1(t,(function(t){t.split(" ").forEach((function(t){var o=t.split(".");n(e,o[0],o[1])}))}))}))}return{bind:function(n,o,i,r){t(n,o,(function(t,n,o){var s="addEventListener"in t,a=s?t.removeEventListener.bind(t,n,i,r):t.removeListener.bind(t,i);s?t.addEventListener(n,i,r):t.addListener(i),e.push([t,n,o,i,a])}))},unbind:function(n,o,i){t(n,o,(function(t,n,o){e=e.filter((function(e){return!!(e[0]!==t||e[1]!==n||e[2]!==o||i&&e[3]!==i)||(e[4](),!1)}))}))},dispatch:function(e,t,n){var o;return"function"==typeof CustomEvent?o=new CustomEvent(t,{bubbles:true,detail:n}):(o=document.createEvent("CustomEvent")).initCustomEvent(t,true,!1,n),e.dispatchEvent(o),o},destroy:function(){e.forEach((function(e){e[4]()})),empty(e)}}}var EVENT_MOVE="move",EVENT_MOVED="moved",EVENT_UPDATED="updated",EVENT_DRAG="drag",EVENT_DRAGGED="dragged",EVENT_SCROLL="scroll",EVENT_SCROLLED="scrolled",EVENT_DESTROY="destroy";function EventInterface(e){var t=e?e.event.bus:document.createDocumentFragment(),n=EventBinder();return e&&e.event.on(EVENT_DESTROY,n.destroy),assign$1(n,{bus:t,on:function(e,o){n.bind(t,toArray$1(e).join(" "),(function(e){o.apply(o,isArray$1(e.detail)?e.detail:[])}))},off:apply$1(n.unbind,t),emit:function(e){n.dispatch(t,e,slice$1(arguments,1))}})}function RequestInterval(e,t,n,o){var i,r,s=Date.now,a=0,d=!0,u=0;function l(){if(!d){if(a=e?min$1((s()-i)/e,1):1,n&&n(a),a>=1&&(t(),i=s(),o&&++u>=o))return c();raf(l)}}function c(){d=!0}function f(){r&&cancelAnimationFrame(r),a=0,r=0,d=!0}return{start:function(t){!t&&f(),i=s()-(t?a*e:0),d=!1,raf(l)},rewind:function(){i=s(),a=0,n&&n(a)},pause:c,cancel:f,set:function(t){e=t},isPaused:function(){return d}}}function Throttle(e,t){var n;return function(){n||(n=RequestInterval(t||0,(function(){e(),n=null}),null,1)).start()}}var CLASS_ACTIVE="is-active",SLIDE="slide",FADE="fade";function slice(e,t,n){return Array.prototype.slice.call(e,t,n)}function apply(e){return e.bind(null,...slice(arguments,1))}function typeOf(e,t){return typeof t===e}function isObject(e){return!isNull(e)&&typeOf("object",e)}const isArray=Array.isArray;apply(typeOf,"function"),apply(typeOf,"string");const isUndefined=apply(typeOf,"undefined");function isNull(e){return null===e}function toArray(e){return isArray(e)?e:[e]}function forEach(e,t){toArray(e).forEach(t)}function toggleClass(e,t,n){e&&forEach(t,(t=>{t&&e.classList[n?"add":"remove"](t)}))}const ownKeys=Object.keys;function forOwn(e,t,n){if(e){let o=ownKeys(e);o=n?o.reverse():o;for(let n=0;n<o.length;n++){const i=o[n];if("__proto__"!==i&&!1===t(e[i],i))break}}return e}function assign(e){return slice(arguments,1).forEach((t=>{forOwn(t,((n,o)=>{e[o]=t[o]}))})),e}function removeAttribute(e,t){forEach(e,(e=>{forEach(t,(t=>{e&&e.removeAttribute(t)}))}))}function setAttribute(e,t,n){isObject(t)?forOwn(t,((t,n)=>{setAttribute(e,n,t)})):forEach(e,(e=>{isNull(n)||""===n?removeAttribute(e,t):e.setAttribute(t,String(n))}))}const{min:min,max:max,floor:floor,ceil:ceil,abs:abs}=Math;function clamp(e,t,n){const o=min(t,n),i=max(t,n);return min(max(o,e),i)}const DEFAULTS={speed:1,autoStart:!0,pauseOnHover:!0,pauseOnFocus:!0},I18N={startScroll:"Start auto scroll",pauseScroll:"Pause auto scroll"};function AutoScroll(e,t,n){const{on:o,off:i,bind:r,unbind:s}=EventInterface(e),{translate:a,getPosition:d,toIndex:u,getLimit:l}=t.Move,{setIndex:c,getIndex:f}=t.Controller,{orient:p}=t.Direction,{toggle:E}=t.Elements,{Live:m}=t,{root:w}=e,h=Throttle(t.Arrows.update,500);let y,v,S,g,b,A,_={};function O(){e.is(FADE)||y||!1===n.autoScroll||(y=RequestInterval(0,V),function(){_.pauseOnHover&&r(w,"mouseenter mouseleave",(e=>{S="mouseenter"===e.type,D()}));_.pauseOnFocus&&r(w,"focusin focusout",(e=>{g="focusin"===e.type,D()}));_.useToggleButton&&r(E,"click",(()=>{v?T():$()}));o(EVENT_UPDATED,N),o([EVENT_MOVE,EVENT_DRAG,EVENT_SCROLL],(()=>{b=!0,$(!1)})),o([EVENT_MOVED,EVENT_DRAGGED,EVENT_SCROLLED],(()=>{b=!1,D()}))}(),_.autoStart&&("complete"===document.readyState?T():r(window,"load",T)))}function L(){y&&(y.cancel(),y=null,A=void 0,i([EVENT_MOVE,EVENT_DRAG,EVENT_SCROLL,EVENT_MOVED,EVENT_SCROLLED]),s(w,"mouseenter mouseleave focusin focusout"),s(E,"click"))}function N(){const{autoScroll:e}=n;!1!==e?(_=assign({},_,isObject(e)?e:{}),O()):L(),y&&!isUndefined(A)&&a(A)}function T(){I()&&(y.start(!0),m.disable(!0),g=S=v=!1,C())}function $(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];v||(v=e,C(),I()||(y.pause(),m.disable(!1)))}function D(){v||(S||g||b?$(!1):T())}function V(){const o=d(),i=function(t){const n=_.speed||1;t+=p(n),e.is(SLIDE)&&(t=clamp(t,l(!1),l(!0)));return t}(o);o!==i?(a(i),function(o){const{length:i}=e,r=(u(o)+i)%i;r!==f()&&(c(r),t.Slides.update(),t.Pagination.update(),"nearby"===n.lazyLoad&&t.LazyLoad.check())}(A=d())):($(!1),_.rewind&&e.go(_.speed>0?0:t.Controller.getEnd())),h()}function C(){if(E){const e=v?"startScroll":"pauseScroll";toggleClass(E,CLASS_ACTIVE,!v),setAttribute(E,"aria-label",n.i18n[e]||I18N[e])}}function I(){return!y||y.isPaused()}return{setup:function(){const{autoScroll:e}=n;_=assign({},DEFAULTS,isObject(e)?e:{})},mount:O,destroy:L,play:T,pause:$,isPaused:I}}window.Splide=Splide,window.slideshows={};const _createSplideInstance=(e,t,n)=>{if(e.hasAttribute("data-thumbnails")){const o=document.getElementById(e.getAttribute("data-thumbnails"));window.slideshows[o.id]=new Splide(`#${o.id}`,{direction:"ttb",height:"var(--thumbnails-height)",autoHeight:!0,arrows:!1,pagination:!1,isNavigation:!0,focus:"left",gap:"0.625rem",slideFocus:!1}),window.slideshows[e.id]=new Splide(`#${e.id}`,t);const i=window.slideshows[e.id],r=window.slideshows[o.id];i.mount(n),document.addEventListener("shapes:product:arrow-change",(e=>{"prev"==e.detail.direction?r.go("<"):r.go(">");r.Components.Slides.getAt(r.index).slide.querySelector(".media-thumbnail").click()})),document.addEventListener("shapes:product:variantchange",(t=>{if(!t.target.contains(e))return;const n=t.detail.variant.featured_media.id,o=r.Components.Slides.filter((e=>e.slide.dataset.mediaId===n.toString()));o.length&&r.go(o[0].index)})),r.mount()}else window.slideshows[e.id]=new Splide(`#${e.id}`,t),window.slideshows[e.id].on("mounted",(t=>{const n=window.slideshows[e.id].root.querySelectorAll(".splide__slide--clone");for(let e=0;e<n.length;e++){let t=n[e].getElementsByTagName("*");for(let n=0;n<t.length;n++){let o=t[n];if(o.hasAttribute("id")&&(o.id=o.getAttribute("id")+"-"+e),o.hasAttribute("for")){let t=o.getAttribute("for")+"-"+e;o.setAttribute("for",t)}}}})),"true"===e.dataset.autoRotate&&_setUpAutoPlay(e),window.slideshows[e.id].mount(n)};window.destroySlideshow=e=>{window.slideshows[e.id].destroy(),delete window.slideshows[e.id]},window.makeSlideshow=e=>{if(e.matches(".splide--thumbnails"))return;if(!e.id)return;if(window.slideshows[e.id])return;let t={mediaQuery:"min",perPage:1,perMove:1,autoWidth:!0,arrows:!0,pagination:!1,rewind:!0,autoScroll:{autoStart:!1},breakpoints:e.matches(".splide--mobile")?{990:{destroy:!0}}:{}};if(null!==e.querySelector(".slideshow-options")&&(t=JSON.parse(e.querySelector(".slideshow-options").textContent)),e.matches(".splide--product")){const t={mediaQuery:"min",type:"slide",perPage:1,perMove:1,autoWidth:!0,pagination:!1,arrows:!0,rewind:!0,drag:"true"!==e.dataset.dragDisabled,autoScroll:{autoStart:!1},breakpoints:{990:{destroy:!0}}};import("./components-splide-product.bundle.js").then((n=>{let{default:o,SplideProduct:i}=n;_createSplideInstance(e,t,{SplideProduct:i})}))}else{"true"===e.dataset.autoRotate&&(t.drag=!1,t.pauseOnHover=!0,t.pauseOnFocus=!0);let n={};t.autoScroll&&!0===t.autoScroll.autoStart&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches&&(n={AutoScroll:AutoScroll}),_createSplideInstance(e,t,n)}},window.discoverNewSlideshows=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;e.querySelectorAll(".splide").forEach((e=>{makeSlideshow(e)}))},window.destroySlideshowsIn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;e.querySelectorAll(".splide").forEach((e=>{destroySlideshow(e)}))},document.addEventListener("DOMContentLoaded",(()=>{discoverNewSlideshows()})),document.addEventListener("shapes:productquickbuy:added",(()=>{discoverNewSlideshows()})),document.addEventListener("shapes:productquickbuy:willremove",(e=>{e.detail.container&&destroySlideshowsIn(e.detail.container)})),document.addEventListener("shapes:product:mediachange",(e=>{const t=window.slideshows[e.detail.slideshow_id];if(!t)return;const n=t.Components.Elements.slides.findIndex((t=>Number(t.dataset.mediaId)===e.detail.media_id));n>-1&&t.go(n)}));const _setUpAutoPlay=e=>{const t=e.querySelector(".splide__toggle"),n=t.dataset.play,o=t.dataset.pause;window.slideshows[e.id].on("autoplay:play",(()=>{t.setAttribute("aria-label",o)})),window.slideshows[e.id].on("autoplay:pause",(e=>{t.setAttribute("aria-label",n)}))};function progressBar(e,t,n){const o=e.root.querySelector(".splide__progress-bar");function i(){const t=e.Components.Controller.getEnd()+1;o.style.width=String(100*(e.index+1)/t)+"%"}return{mount:function(){o&&e.on("mounted move",i)}}}export{progressBar};