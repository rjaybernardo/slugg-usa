/*! js-cookie v3.0.5 | MIT */
function assign(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}var defaultConverter={read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init(e,t){function i(i,n,r){if("undefined"!=typeof document){"number"==typeof(r=assign({},t,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var s in r)r[s]&&(o+="; "+s,!0!==r[s]&&(o+="="+r[s].split(";")[0]));return document.cookie=i+"="+e.write(n,i)+o}}return Object.create({set:i,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var i=document.cookie?document.cookie.split("; "):[],n={},r=0;r<i.length;r++){var o=i[r].split("="),s=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(n[a]=e.read(s,a),t===a)break}catch(e){}}return t?n[t]:n}},remove:function(e,t){i(e,"",assign({},t,{expires:-1}))},withAttributes:function(e){return init(this.converter,assign({},this.attributes,e))},withConverter:function(e){return init(assign({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var api=init(defaultConverter,{path:"/"});window.ThemeSection_AgeCheck=e=>({authenticated:!1,mode:e.mode,date_format:e.date_format,minimum_age:e.minimum_age,redirect_url:e.redirect_url,month:"",day:"",year:"",date:"",cookie:api.get("ageGateAuthenticated"),isSelected:!1,get fullDate(){return`${this.month}/${this.day}/${this.year}`},mounted(){initTeleport(this.$root),Alpine.store("modals").register("ageCheck","modal"),"true"!==this.cookie&&Alpine.store("modals").open("ageCheck"),null===this.redirect_url&&(this.redirect_url="https://www.google.com"),"dob"===this.mode&&(this.date=new Date,setTimeout((()=>this.setUpDOB()),100)),document.addEventListener("shopify:section:select",(e=>{e.target.querySelector('[data-section="age-check"]')&&this.showSectionInThemeEditor()})),Shopify.designMode&&this.isSelected&&this.showSectionInThemeEditor()},showSectionInThemeEditor(){this.isSelected=!0,Alpine.store("modals").open("ageCheck")},approveEntry(){Alpine.store("modals").close("ageCheck"),this.isSelected?api.remove("ageGateAuthenticated"):api.set("ageGateAuthenticated","true",{expires:30})},denyEntry(){window.location=this.redirect_url},checkInput(e){switch(e){case"day":return parseInt(this.day)>0&&parseInt(this.day)<32;case"month":return parseInt(this.month)>0&&parseInt(this.month)<13;case"year":return parseInt(this.year)<this.date.getFullYear()&&parseInt(this.year)>1900}return!0},checkAge(){const e=Math.round(this.date.getTime()/1e3),t=Math.round(new Date(`${this.fullDate}`).getTime()/1e3);Math.floor((e-t)/31536e3)>parseInt(this.minimum_age,10)?this.approveEntry():this.denyEntry()},setUpDOB(){document.getElementById("dob-form").addEventListener("input",(e=>{const t=e.srcElement||e.target,i=parseInt(t.attributes.maxlength.value,10),n=t.value.length;if(n>=i){if(!this.checkInput(t.getAttribute("name")))return t.value="",!1;let e=t.closest(".input-grid-item");for(;(e=e.nextElementSibling)&&null!=e;){let t=e.querySelector("input");if(null!==t){t.focus();break}}}else if(0===n){let e=t.closest(".input-grid-item");for(;(e=e.previousElementSibling)&&null!=e;){const t=e.querySelector("input");if(null!==t){t.focus();break}}}this.checkInput("day")&&this.checkInput("month")&&this.checkInput("year")&&setTimeout((()=>this.checkAge()),500)}))}});