if(!window.theme.shapesAnimationsInitialized){Number.prototype.map=function(t,e,i,a){return(this-t)*(a-i)/(e-t)+i};class t{setPosition(){let t=this.position;return this.position=(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,t!=this.position}updatePosition(t,e){let i=e*(100*(1-t));return Math.round(i)}cacheParallaxContainers(){for(var t=0;t<this.parallaxContainers.length;t++){var e=this.createParallaxItem(this.parallaxContainers[t]);this.parallaxItems.push(e)}}inViewport(t){if(!t)return!1;if(1!==t.nodeType)return!1;var e=document.documentElement,i=t.getBoundingClientRect();return!!i&&i.width>0&&i.height>0&&i.bottom>=0&&i.right>=0&&i.left<=e.clientWidth&&i.top<=e.clientHeight}createParallaxItem(t){const e=t.getAttribute("data-parallax-id"),i=t,a=t.querySelector("[data-parallax-element]");let n=parseInt(t.getAttribute("data-parallax-speed"));n*=-1;return{id:e,container:i,item:a,height:a.clientHeight||a.offsetHeight||a.scrollHeight,speed:n,visible:this.inViewport(t),item:a}}observeItems(){this.parallaxObserver=new IntersectionObserver((t=>{t.forEach((t=>{const e=this.parallaxItems.findIndex((e=>e.id===t.target.getAttribute("data-parallax-id")));e>-1&&(this.parallaxItems[e].visible=t.isIntersecting)}))}),{rootMargin:"0px 0px 20% 0px",threshold:0});for(var t=0;t<this.items.length;t++)this.parallaxObserver.observe(this.items[t])}animate(){for(var t=0;t<this.parallaxContainers.length;t++){if(this.parallaxItems[t].visible){const e=(this.screenHeight-this.parallaxItems[t].container.getBoundingClientRect().top)/(this.screenHeight+this.parallaxItems[t].height)-.5,i=this.intensity*(this.parallaxItems[t].speed*(100*e)),a=Math.round(100*i+Number.EPSILON)/100;this.parallaxItems[t].item.style.transform=`translateY(${a}px)`}this.parallaxContainers[t].classList.add("animated")}for(t=0;t<this.rotateItems.length;t++)this.rotateItems[t].style.transform="rotate("+window.pageYOffset/3+"deg)";this.firstAnimate=!0}initParallax(){this.screenHeight=window.innerHeight,this.parallaxItems=[],this.parallaxContainers=document.querySelectorAll("[data-parallax-container]"),this.setPosition(),this.cacheParallaxContainers(),this.intensity=window.theme.settings.parallax_intensity.map(0,100,1,110)/100,this.animate(),document.addEventListener("scroll",(()=>{this.setPosition()&&requestAnimationFrame(this.animate.bind(this))}),{passive:!0})}init(){this.items=document.querySelectorAll("[data-parallax-container]"),this.rotateItems=document.querySelectorAll(".sticker-rotate-when-scrolling"),this.observeItems(),this.initParallax(),window.addEventListener("resize",(()=>{this.enable_parallax&&this.initParallax()})),window.addEventListener("shapes:section:hasmutated",debounce((()=>{this.init()}),300))}}const e=new t;if(window.matchMedia("(prefers-reduced-motion: no-preference)").matches){document.addEventListener("DOMContentLoaded",(function(){e.init()})),document.addEventListener("shopify:section:load",(()=>{e.init()}));const t=debounce((()=>{e.init()}),500);document.addEventListener("dev:hotreloadmutation",t)}}window.theme.shapesAnimationsInitialized=!0;