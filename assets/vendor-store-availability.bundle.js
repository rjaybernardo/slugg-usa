var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function isObject$2(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var isObject_1=isObject$2,freeGlobal$1="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root$2=freeGlobal||freeSelf||Function("return this")(),_root=root$2,root$1=root$2,now$1=function(){return root$1.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1(t){for(var e=t.length;e--&&reWhitespace.test(t.charAt(e)););return e}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(t){return t?t.slice(0,trimmedEndIndex(t)+1).replace(reTrimStart,""):t}var _baseTrim=baseTrim$1,root=root$2,Symbol$2=root.Symbol,_Symbol=Symbol$2,Symbol$1=_Symbol,objectProto$1=Object.prototype,hasOwnProperty=objectProto$1.hasOwnProperty,nativeObjectToString$1=objectProto$1.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag$1(t){var e=hasOwnProperty.call(t,symToStringTag$1),o=t[symToStringTag$1];try{t[symToStringTag$1]=void 0;var i=!0}catch(t){}var n=nativeObjectToString$1.call(t);return i&&(e?t[symToStringTag$1]=o:delete t[symToStringTag$1]),n}var _getRawTag=getRawTag$1,objectProto=Object.prototype,nativeObjectToString=objectProto.toString;function objectToString$1(t){return nativeObjectToString.call(t)}var _objectToString=objectToString$1,Symbol=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=_Symbol?_Symbol.toStringTag:void 0;function baseGetTag$1(t){return null==t?void 0===t?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(t)?getRawTag(t):objectToString(t)}var _baseGetTag=baseGetTag$1;function isObjectLike$1(t){return null!=t&&"object"==typeof t}var isObjectLike_1=isObjectLike$1,baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,symbolTag="[object Symbol]";function isSymbol$1(t){return"symbol"==typeof t||isObjectLike(t)&&baseGetTag(t)==symbolTag}var isSymbol_1=isSymbol$1,baseTrim=_baseTrim,isObject$1=isObject_1,isSymbol=isSymbol_1,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$1(t){if("number"==typeof t)return t;if(isSymbol(t))return NAN;if(isObject$1(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=isObject$1(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=baseTrim(t);var o=reIsBinary.test(t);return o||reIsOctal.test(t)?freeParseInt(t.slice(2),o?2:8):reIsBadHex.test(t)?NAN:+t}var toNumber_1=toNumber$1,isObject=isObject_1,now=now_1,toNumber=toNumber_1,FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(t,e,o){var i,n,r,a,l,c,b=0,s=!1,u=!1,f=!0;if("function"!=typeof t)throw new TypeError(FUNC_ERROR_TEXT);function d(e){var o=i,r=n;return i=n=void 0,b=e,a=t.apply(r,o)}function m(t){return b=t,l=setTimeout(y,e),s?d(t):a}function g(t){var o=t-c;return void 0===c||o>=e||o<0||u&&t-b>=r}function y(){var t=now();if(g(t))return T(t);l=setTimeout(y,function(t){var o=e-(t-c);return u?nativeMin(o,r-(t-b)):o}(t))}function T(t){return l=void 0,f&&i?d(t):(i=n=void 0,a)}function v(){var t=now(),o=g(t);if(i=arguments,n=this,c=t,o){if(void 0===l)return m(c);if(u)return clearTimeout(l),l=setTimeout(y,e),d(c)}return void 0===l&&(l=setTimeout(y,e)),a}return e=toNumber(e)||0,isObject(o)&&(s=!!o.leading,r=(u="maxWait"in o)?nativeMax(toNumber(o.maxWait)||0,e):r,f="trailing"in o?!!o.trailing:f),v.cancel=function(){void 0!==l&&clearTimeout(l),b=0,i=c=n=l=void 0},v.flush=function(){return void 0===l?a:T(now())},v}var debounce_1=debounce,debounce$1=getDefaultExportFromCjs(debounce_1);const StoreAvailability=function(){function t(t){this.container=t,this.fetchContent=debounce$1(this.__fetchContent.bind(this),500,{leading:!0,trailing:!0}),window.Spruce.store("availability").product_title=this.container.dataset.productTitle}return t.prototype=Object.assign({},t.prototype,{__fetchContent:function(t){if(window.Spruce.store("availability").availability[t.id])return window.Spruce.store("availability").current_variant=t,void(window.Spruce.store("availability").loading=!1);{let e=this.container.dataset.baseUrl;e.endsWith("/")||(e+="/");const o=e+"variants/"+t.id+"/?section_id=store-availability";return window.Spruce.store("availability").loading=!0,fetch(o).then((function(t){return t.text()})).then((function(e){window.Spruce.store("availability").loading=!1,window.Spruce.store("availability").current_variant=t;let o="";const i=(new DOMParser).parseFromString(e,"text/html").querySelector("[data-availability-json]");i&&(o=JSON.parse(i.innerHTML)),window.Spruce.store("availability").availability[o.variant]=o.availability}))}}}),t}();window.StoreAvailability=StoreAvailability;