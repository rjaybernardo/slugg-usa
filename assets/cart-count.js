document.addEventListener("alpine:init",(()=>{Alpine.store("cart_count",{count:window.theme&&window.theme.cartItemCount||0,init(){window.addEventListener("shapes:modalcart:afteradditem",(t=>{this._setFromFetchedSection(t.detail.response)})),window.addEventListener("shapes:modalcart:cartqtychange",(t=>{this._setFromFetchedSection(t.detail.response)}))},_setFromFetchedSection(t){const e=t.sections["cart-item-count"];this.count=parseInt(parseDOMFromString(e).firstElementChild.innerText.trim(),10)},countWithText(){let t=theme.strings.itemCountOther;return 1===this.count&&(t=theme.strings.itemCountOne),t.replace("{{ count }}",this.count)}})}));