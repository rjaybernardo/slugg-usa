function forceFocus(e,t){t=t||{};var n=e.tabIndex;e.tabIndex=-1,e.dataset.tabIndex=n,e.focus(),void 0!==t.className&&e.classList.add(t.className),e.addEventListener("blur",(function o(a){a.target.removeEventListener(a.type,o),e.tabIndex=n,delete e.dataset.tabIndex,void 0!==t.className&&e.classList.remove(t.className)}))}function focusable(e){return Array.prototype.slice.call(e.querySelectorAll("[tabindex],[draggable],a[href],area,button:enabled,input:not([type=hidden]):enabled,object,select:enabled,textarea:enabled")).filter((function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}))}var trapFocusHandlers={};function trapFocus(e,t){t=t||{};var n=focusable(e),o=t.elementToFocus||e,a=n[0],s=n[n.length-1];removeTrapFocus(),trapFocusHandlers.focusin=function(t){e===t.target||e.contains(t.target)||a.focus(),t.target!==e&&t.target!==s&&t.target!==a||document.addEventListener("keydown",trapFocusHandlers.keydown)},trapFocusHandlers.focusout=function(){document.removeEventListener("keydown",trapFocusHandlers.keydown)},trapFocusHandlers.keydown=function(t){9===t.keyCode&&(t.target!==s||t.shiftKey||(t.preventDefault(),a.focus()),t.target!==e&&t.target!==a||!t.shiftKey||(t.preventDefault(),s.focus()))},document.addEventListener("focusout",trapFocusHandlers.focusout),document.addEventListener("focusin",trapFocusHandlers.focusin),forceFocus(o,t)}function removeTrapFocus(){document.removeEventListener("focusin",trapFocusHandlers.focusin),document.removeEventListener("focusout",trapFocusHandlers.focusout),document.removeEventListener("keydown",trapFocusHandlers.keydown)}export{focusable as f,removeTrapFocus as r,trapFocus as t};