import{E as EventInterface}from"./shared-import-splide.esm.bundle.js";const applyInert=function(e){e.forEach((e=>{const t=e.slide;t.matches(".is-visible")?t.removeAttribute("inert"):t.setAttribute("inert","")}))};function SplideProduct(e){const{on:t,off:n,bind:i,unbind:o}=EventInterface(e);function r(t){const n=e.Components.Slides.filter((e=>e.slide.dataset.mediaId===t.toString()));n.length&&e.go(n[0].index)}function d(t){const n=e.Components.Slides.getAt(t);if(!n)return;const i=n.slide;let o=i.querySelector("[data-product-single-media-wrapper]").offsetHeight;if(e.root.hasAttribute("data-two-slides-visible-on-mobile")&&window.matchMedia("(max-width: 989px").matches){const e=i.nextElementSibling;if(null!==e){const t=e.querySelector("[data-product-single-media-wrapper]").offsetHeight;o=t>o?t:o}}e.root.querySelector(".splide__track").style.maxHeight=o+"px"}e.root.addEventListener("click",(t=>{t.target.classList.contains("splide__pagination__page")&&(e.paginationClicked=!0)})),i(document.body,"shapes:product:variantchange",(t=>{if(!t.target.contains(e.root))return;r(t.detail.variant.featured_media.id)}));const a=debounce((t=>{d(e.index)}),150);function s(){e.root.querySelectorAll("[inert]").forEach((e=>{e.removeAttribute("inert")})),e.root.querySelectorAll("[aria-hidden]").forEach((e=>{e.removeAttribute("aria-hidden")})),o(document.body,"shapes:product:variantchange")}function c(){!0===e.options.destroy?s():applyInert(e.Components.Slides.get())}function l(e){!0===e.destroy&&s()}function u(){e.root.dataset.firstMedia&&r(e.root.dataset.firstMedia),d(e.index)}function p(t,n){applyInert(e.Components.Slides.get());const i=e.Components.Slides,o=i.getAt(n).slide.querySelector("[data-product-single-media-wrapper]"),r=i.getAt(t).slide.querySelector("[data-product-single-media-wrapper]");o&&o.dispatchEvent(new CustomEvent("mediaHidden")),r&&r.dispatchEvent(new CustomEvent("mediaVisible"))}function m(e){d(e)}return i(window,"resize",a),{mount(){t("mounted",u),t("mounted moved",c),t("moved",p),t("move",m),t("destroy",s),t("updated",l)}}}export{SplideProduct};